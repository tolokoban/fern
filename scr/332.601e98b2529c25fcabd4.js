"use strict";(self.webpackChunkfern=self.webpackChunkfern||[]).push([[332],{778:(n,e,t)=>{t.d(e,{Z:()=>i});var r=t(81),o=t.n(r),s=t(645),a=t.n(s)()(o());a.push([n.id,".mYSOP277932fPsNxlbDd {\n    font-family: cursive;\n}\n",""]),a.locals={formula:"mYSOP277932fPsNxlbDd"};const i=a},187:(n,e,t)=>{t.d(e,{Z:()=>i});var r=t(81),o=t.n(r),s=t(645),a=t.n(s)()(o());a.push([n.id,'.dNCUO44sVfX5S1kC33sC {\n    font: inherit;\n    border: none;\n    background-color: var(--theme-color-input);\n    color: var(--theme-color-on-input);\n    display: grid;\n    place-items: center;\n    padding: 0 0.5em;\n    width: 100%;\n}\n\ninput.dNCUO44sVfX5S1kC33sC::-webkit-outer-spin-button,\ninput.dNCUO44sVfX5S1kC33sC::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n/* Firefox */\ninput.dNCUO44sVfX5S1kC33sC[type="number"] {\n    appearance: textfield;\n}\n',""]),a.locals={Input:"dNCUO44sVfX5S1kC33sC"};const i=a},332:(n,e,t)=>{t.r(e),t.d(e,{default:()=>E});var r=t(893),o=t(294),s=t(686),a=t(215),i=t(273),c=t(379),l=t.n(c),u=t(795),d=t.n(u),f=t(569),h=t.n(f),p=t(565),y=t.n(p),x=t(216),b=t.n(x),g=t(589),m=t.n(g),j=t(778),v={};v.styleTagTransform=m(),v.setAttributes=y(),v.insert=h().bind(null,"head"),v.domAPI=d(),v.insertStyleElement=b(),l()(j.Z,v);const w=j.Z&&j.Z.locals?j.Z.locals:void 0;var C=t(187),$={};$.styleTagTransform=m(),$.setAttributes=y(),$.insert=h().bind(null,"head"),$.domAPI=d(),$.insertStyleElement=b(),l()(C.Z,$);const S=C.Z&&C.Z.locals?C.Z.locals:void 0;function N({value:n,onChange:e}){return(0,r.jsx)("input",{className:S.Input,type:"number",value:n,onInput:n=>{const t=Number(n.target.value);Number.isNaN(t)||e(t)}})}function k({onFunctionChange:n}){const[e,t]=o.useState(0),[a,i]=o.useState(0),[c,l]=o.useState(1),[u,d]=o.useState(1),[f,h]=o.useState(0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Rf,{display:"grid",gridTemplateColumns:"auto 1fr 1fr",gap:"S",children:[(0,r.jsx)("div",{children:"Translate:"}),(0,r.jsx)(N,{value:e,onChange:t}),(0,r.jsx)(N,{value:a,onChange:i}),(0,r.jsx)("div",{children:"Scale:"}),(0,r.jsx)(N,{value:c,onChange:l}),(0,r.jsx)(N,{value:u,onChange:d}),(0,r.jsx)("div",{children:"Rotate:"}),(0,r.jsx)(N,{value:f,onChange:h}),(0,r.jsx)("div",{children:"(degrees)"})]}),(0,r.jsx)(s.Rf,{display:"flex",justifyContent:"space-around",children:[0,1,2,3].map((t=>(0,r.jsx)(s.NA,{onClick:()=>(t=>{const r=f*Math.PI/180,o=Math.cos(r),s=Math.sin(r);n(t,o*c,-s,e,s,o*u,a)})(t),children:(0,r.jsxs)("span",{children:["f",(0,r.jsx)("sub",{children:t+1})]})},t)))})]})}function E(){const n=(0,a.vk)(),[e,t]=o.useState(n);return(0,r.jsxs)(s.Rf,{position:"absolute",color:"neutral-1",display:"flex",overflow:"auto",justifyContent:"space-around",alignItems:"flex-start",flexWrap:"wrap",gap:"M",padding:"M",width:"100%",height:"100%",children:[(0,r.jsx)(O,{children:(0,r.jsx)(s.NA,{onClick:(0,i.H)(`/barnsley/view/${encodeURIComponent(JSON.stringify(e))}`),children:"View this fractal"})}),(0,r.jsxs)(O,{children:[(0,r.jsx)("h2",{children:"Functions"}),(0,r.jsx)(s.Rf,{display:"grid",gridTemplateColumns:"auto repeat(4, 1fr)",placeItems:"stretch",gap:"XS",width:"100%",children:A(-1,6).map((n=>A(-1,3).map((o=>{const a=`${n}/${o}`;return n<0?o<0?(0,r.jsx)("div",{},a):(0,r.jsx)(s.Rf,{display:"grid",placeItems:"center",children:(0,r.jsxs)("div",{children:["f",(0,r.jsx)("sub",{children:o+1})]})},a):o<0?(0,r.jsx)(s.Rf,{children:"abcdef%".charAt(n)},a):(0,r.jsx)(N,{value:e.functions[o][n],onChange:r=>((n,r,o)=>{const s=structuredClone(e);s.functions[n][r]=o,t(s)})(o,n,r)},a)}))))}),(0,r.jsxs)(s.Rf,{className:w.formula,display:"flex",justifyContent:"space-between",margin:["M",0],children:[(0,r.jsx)("div",{className:w.formula,children:"f(x) = ax + by + c"}),(0,r.jsx)("div",{className:w.formula,children:"f(y) = dx + ey + f"})]}),(0,r.jsx)("hr",{}),(0,r.jsx)(k,{onFunctionChange:(n,r,o,s,a,i,c)=>{const l=[...e.functions];l[n]=[r,o,s,a,i,c,l[n][6]],t(Object.assign(Object.assign({},e),{functions:l}))}})]}),(0,r.jsxs)(O,{children:[(0,r.jsx)("h2",{children:"Presets"}),(0,a.go)().map((n=>(0,r.jsx)(s.NA,{width:"100%",margin:["XS",0],variant:"text",onClick:()=>(n=>{const e=(0,a.lB)(n);t(e)})(n),children:n})))]}),(0,r.jsx)(O,{children:(0,r.jsx)(s.NA,{onClick:(0,i.H)(`/barnsley/view/${encodeURIComponent(JSON.stringify(e))}`),children:"View this fractal"})})]})}function O({children:n}){return(0,r.jsx)(s.Rf,{color:"neutral-5",borderRadius:"S",padding:"S",width:"480px",maxWidth:"99vw",children:n})}function A(n,e){const t=Math.min(n,e),r=Math.max(n,e),o=[t];let s=t+1;for(;s<=r;)o.push(s),s++;return o}},215:(n,e,t)=>{function r(n,e,t="data"){if("unknown"===e)return;if("null"===e){if(null!==n)throw Error(`Expected ${t} to be null and not a ${typeof n}!`);return}if("string"==typeof e){if(typeof n!==e)throw Error(`Expected ${t} to be a string and not a ${typeof n}!`);return}if(Array.isArray(e)){const[o]=e;switch(o){case"array":return void function(n,e,t){if(!Array.isArray(n))throw Error(`Expected ${e} to be an array and not a ${typeof n}!`);const[,o]=t;for(let t=0;t<n.length;t+=1)r(n[t],o,`${e}[${t}]`)}(n,t,e);case"map":return void function(n,e,t){if(!function(n){return!!n&&!Array.isArray(n)&&"object"==typeof n}(n))throw Error(`Expected ${e} to be an object and not a ${typeof n}!`);const[,o]=t;for(const t of Object.keys(n))"string"==typeof t&&r(n[t],o,`${e}[${t}]`)}(n,t,e);case"?":return void function(n,e,t){if(void 0===n)return;const[,o]=t;r(n,o,e)}(n,t,e);case"|":return void function(n,e,t){const[,...o]=t;let s=Error(`No type has been defined for this alternative: ${JSON.stringify(t)}!`);for(const t of o)try{return void r(n,t,e)}catch(n){n instanceof Error&&(s=n)}throw s}(n,t,e);case"literal":return void function(n,e,t){const[,...r]=t;for(const e of r)if(n===e)return;throw Error(`Expected ${e} to be a literal (${r.map((n=>`"${n}"`)).join(" | ")})!`)}(n,t,e);default:if(o.startsWith("array("))return void function(n,e,t,o){if(!Array.isArray(n))throw Error(`Expected ${e} to be an array and not a ${typeof n}!`);if(n.length!==o)throw Error(`${e} was expected to have a length of ${o}, but we got ${n.length}!`);const[,s]=t;for(let t=0;t<n.length;t+=1)r(n[t],s,`${e}[${t}]`)}(n,t,e,parseInt(o.substring(6,o.length-1),10));throw Error(`Don't know how to create a type guard for this kind of type: ${JSON.stringify(e)}`)}}if("object"!=typeof n)throw Error(`Expected ${t} to be an object and not a ${typeof n}!`);const o=n;for(const n of Object.keys(e))"string"==typeof n&&e[n]&&r(o[n],e[n],`${t}.${n}`)}t.d(e,{lB:()=>c,go:()=>i,vk:()=>u});var o=t(294),s=t(78);const a={barnsley:{functions:[[0,0,0,.16,0,0,1],[.85,.04,-.04,.85,0,1.6,85],[.2,-.26,.23,.22,0,1.6,7],[-.15,.28,.26,.24,0,.44,7]],bounds:[-2.182,-1e-4,6.642,9.9983]},cyclosorus:{functions:[[0,0,0,.25,0,-.4,2],[.95,.005,-.005,.93,-.002,.5,84],[.035,-.2,.16,.04,-.09,.02,7],[-.04,.2,.16,.04,.083,.12,7]],bounds:[0,0,2,7]},modified:{functions:[[0,0,0,.2,0,-.12,1],[.845,.035,-.035,.82,0,1.6,85],[.2,-.31,.255,.245,0,.29,7],[-.15,.24,.25,.2,0,.68,7]],bounds:[-2.182,-1e-4,6.5,9]},culcita:{functions:[[0,0,0,.25,0,-.14,2],[.85,.02,-.02,.83,0,1,84],[.09,-.28,.3,.11,0,.6,7],[-.09,.28,.3,.09,0,.7,7]],bounds:[-4,0,2,6]},fishbone:{functions:[[0,0,0,.25,0,-.4,2],[.95,.002,-.002,.93,-.002,.5,84],[.035,-.11,.27,.01,-.05,.005,7],[-.04,.11,.27,.01,.047,.06,7]],bounds:[-5,-1,2,8]},coch:{functions:[[.5,.375,.5,-.375,-.0625,.5625,10],[.5,-.375,-.5,-.375,.5625,1.0625,10],[1,0,0,1,0,0,0],[1,0,0,1,0,0,0]],bounds:[.2,.6,1,.8]},tree:{functions:[[.4,0,0,.4,0,0,5],[.42,-.42,.42,.42,0,2,4],[.42,.42,-.42,.42,0,2,4],[0,0,0,.5,0,0,3]],bounds:[-2.4,0,6.9,4.5]},bee:{functions:[[.6178,0,0,-.6178,0,10,15],[0,-.786,.786,0,.786,0,15],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],bounds:[-2.182,-1e-4,6.642,9.9983]}};function i(){return Object.keys(a)}function c(n){const e=a[n];if(!e)throw Error(`There is no preset with the name "${n}"!`);return e}function l(n){if(!n)return!1;try{return r(n,{functions:["array(4)",["array(7)","number"]],bounds:["array(4)","number"]}),!0}catch(n){return console.error("LocalStorage is corrupted!"),console.error(n),!1}}function u(){const{params:n}=(0,s.O)();return o.useMemo((()=>{let e=function(){var n;const e=function(n){try{return JSON.parse(n)}catch(n){return null}}(null!==(n=window.localStorage.getItem("Barnsley"))&&void 0!==n?n:"");return l(e)?e:c(i()[0])}();try{const t=JSON.parse(decodeURIComponent(n));l(t)&&(e=t)}catch(n){console.error(n)}finally{return window.localStorage.setItem("Barnsley",JSON.stringify(e)),console.log("ðŸš€ [data] barnsleyParams = ",e),e}}),[n])}},273:(n,e,t)=>{function r(n){return()=>function(n){window.location.hash=n}(n)}t.d(e,{H:()=>r})}}]);